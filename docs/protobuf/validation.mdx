---
title: Protovalidate
description: How to add validation rules to request and resource messages.
---

This repository uses Protovalidate annotations (not `protoc-gen-validate`).

Protovalidate adds schema-level validation rules that are enforced at runtime by language-specific libraries.

## When to validate

Use validation rules primarily on:

- Request messages (for API inputs)
- Fields that must be well-formed (IDs, resource names, pagination values)

Avoid "over-validating" output-only fields. If a field is output-only, consider skipping validation when it is unset:

```proto
string asset_id = 1 [
  (google.api.field_behavior) = REQUIRED,
  (buf.validate.field).required = true,
  (buf.validate.field).string.len = 64,
  (buf.validate.field).string.pattern = "^[0-9a-fA-F]{64}$"
];
```

## REQUIRED vs validation

`(google.api.field_behavior) = REQUIRED` is an API contract signal.
`(buf.validate.field).required = true` enforces a runtime validation rule.

In most APIs, you want both for required input fields.

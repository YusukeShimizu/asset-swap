# AGENTS

このリポジトリは Rust プロジェクトのテンプレートである。

## 開発原則

1. 仕様は `spec.md` を正とする。
2. 開発環境は Nix Flakes（`nix develop`）で再現する。
3. 環境変数は direnv（`.envrc`）で管理する。
4. 代表的な操作は Integration Test（`tests/`）で先に表現する。
5. Integration Test は mock を使わない。
6. 実装は単一責任を守り、用語は一貫させる。
7. ログは `tracing` を使い、`RUST_LOG` で詳細度を制御する。
8. 文章（Markdown）を更新したら `textlint` を実行する。
9. 代表的な品質ゲートは `just ci` で実行する。

## 文書の校正ルール

- 総論→各論などの論理構造を先に決める。
- 一文一義を徹底する。
- 主語と述語を対応させる。
- 用語を統一する。
- 数字・単位・記号の表記を統一する。
- 事実と推測を区別する。
- 不要語を削除し、簡潔に書く。
- Mermaid を更新したら `mmdc` で変換できることを確認する。
